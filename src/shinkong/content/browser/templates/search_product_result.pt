<tal:condition condition='view/data'>
<script src='https://www.google.com/recaptcha/api.js'></script>

<form action="https://www.google.com/recaptcha/api/siteverify" method="POST">
  <div class="g-recaptcha" data-sitekey="6LfTmm8UAAAAAP8Ho_928uv5WjpA5leW0iNbKPEe"></div>
</form>

<div tal:repeat="item view/data">
  <p>${item}</p>
  <img src='${python: view.data[item]}/@@images/image/preview'>
</div>



<p id='verify_text' style='display: none'></p>
<script>
  var verifyCallback = function(response) {
    $('#verify_text').text(response)
  };
  var onReCaptchaLoad = function() {
    captchaWidgetId = grecaptcha.render( 'verify', {
        'sitekey' : '6LfTmm8UAAAAAP8Ho_928uv5WjpA5leW0iNbKPEe',  // required
        'theme' : 'light',  // optional
        'callback': 'verifyCallback'  // optional
    });
  };

</script>
  
</tal:condition>

<tal:condition condition='not: view/data'>
  <h1>No Data</h1>
</tal:condition>
